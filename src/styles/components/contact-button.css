/* =======================================
   CONTACT BUTTON COMPONENT
   ======================================= */

/* Basic Contact Button Mask Effect */
.contact-button-mask {
  position: relative;
  overflow: hidden;
  /* Start with dark background */
  background-color: hsl(var(--color-content-primary));
  color: hsl(var(--color-content-inverse));
  transition: color 0.3s ease;
}

.contact-button-mask::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  /* Light background for mask reveal */
  background: hsl(var(--color-surface-background));
  -webkit-mask: url('https://raw.githubusercontent.com/pizza3/asset/master/natureSmaller.png');
  mask: url('https://raw.githubusercontent.com/pizza3/asset/master/natureSmaller.png');
  -webkit-mask-size: 7100% 100%;
  mask-size: 7100% 100%;
  /* Start with mask hidden (position at end) */
  -webkit-mask-position: 100% 0;
  mask-position: 100% 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 1;
  transition: -webkit-mask-position 0.7s steps(70), mask-position 0.7s steps(70);
}

.contact-button-mask:hover::before {
  /* Hover: reveal light background by moving mask to start */
  -webkit-mask-position: 0 0;
  mask-position: 0 0;
}

.contact-button-mask:hover {
  /* Change text to dark when light background shows for proper contrast */
  color: hsl(var(--color-content-primary));
}

.contact-button-mask:hover * {
  /* Ensure all child elements also change to dark text */
  color: hsl(var(--color-content-primary)) !important;
}

/* Enhanced contact button mask dengan implementasi yang benar mengikuti referensi mask3 */
.contact-button-mask-enhanced {
  position: relative;
  overflow: hidden;
  background-color: hsl(var(--color-surface-background));
  color: hsl(var(--color-content-inverse));
  /* Pastikan border-radius tetap terjaga */
  border-radius: 50%;
  /* Enhanced magnetic transform properties */
  will-change: transform, color;
  /* Faster transition untuk magnetic effect yang lebih responsif */
  transition: color 0.3s ease, transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  /* Ensure circle shape is maintained */
  aspect-ratio: 1 / 1;
  /* Magnetic transform origin */
  transform-origin: center center;
  /* Extend interactive area slightly beyond visual boundary for better magnetic detection */
  margin: -10px;
  padding: 10px;
}

.contact-button-mask-enhanced::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: hsl(var(--color-content-primary));
  -webkit-mask: url('https://raw.githubusercontent.com/pizza3/asset/master/natureSmaller.png');
  mask: url('https://raw.githubusercontent.com/pizza3/asset/master/natureSmaller.png');
  -webkit-mask-size: 7100% 100%;
  mask-size: 7100% 100%;
  /* Pastikan border-radius mengikuti parent */
  border-radius: 50%;
  pointer-events: none;
  z-index: 1;
  /* Initial state - mask di posisi 0 (revealed) seperti referensi */
  -webkit-mask-position: 0 0;
  mask-position: 0 0;
  /* Animasi default saat load - hide mask (ani2) */
  -webkit-animation: maskHideAnimation 0.7s steps(70) forwards;
  animation: maskHideAnimation 0.7s steps(70) forwards;
  /* Prevent interference with magnetic transform */
  will-change: -webkit-mask-position, mask-position;
}

.contact-button-mask-enhanced:hover::before {
  /* Animasi saat hover - reveal mask (ani) */
  -webkit-animation: maskRevealAnimation 0.7s steps(70) forwards;
  animation: maskRevealAnimation 0.7s steps(70) forwards;
}

.contact-button-mask-enhanced:hover {
  color: hsl(var(--color-content-primary));
}

/* Enhanced magnetic detection area for better responsiveness */
.contact-button-mask-enhanced::after {
  content: '';
  position: absolute;
  top: -20px;
  left: -20px;
  right: -20px;
  bottom: -20px;
  border-radius: 50%;
  pointer-events: none;
  z-index: -1;
}

/* Improved button interaction area */
.contact-button-mask-enhanced button {
  /* Expand clickable area slightly */
  margin: -5px;
  padding: 5px;
  border-radius: 50%;
}
