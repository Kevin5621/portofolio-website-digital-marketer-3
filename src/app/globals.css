@import "tailwindcss";

/* ====================================================================
   DESIGN SYSTEM FOUNDATION
   Professional CSS Architecture - Base Scales Only
   ==================================================================== */

:root {
  /* =======================================
     SIZING & SPACING SCALES
     ======================================= */
  
  /* === SPACING SCALE (Based on 4px grid) === */
  --spacing-0: 0;
  --spacing-1: 0.25rem;     /* 4px */
  --spacing-2: 0.5rem;      /* 8px */
  --spacing-3: 0.75rem;     /* 12px */
  --spacing-4: 1rem;        /* 16px */
  --spacing-5: 1.25rem;     /* 20px */
  --spacing-6: 1.5rem;      /* 24px */
  --spacing-7: 1.75rem;     /* 28px */
  --spacing-8: 2rem;        /* 32px */
  --spacing-9: 2.25rem;     /* 36px */
  --spacing-10: 2.5rem;     /* 40px */
  --spacing-11: 2.75rem;    /* 44px */
  --spacing-12: 3rem;       /* 48px */
  --spacing-14: 3.5rem;     /* 56px */
  --spacing-16: 4rem;       /* 64px */
  --spacing-20: 5rem;       /* 80px */
  --spacing-24: 6rem;       /* 96px */
  --spacing-28: 7rem;       /* 112px */
  --spacing-32: 8rem;       /* 128px */
  --spacing-36: 9rem;       /* 144px */
  --spacing-40: 10rem;      /* 160px */
  --spacing-44: 11rem;      /* 176px */
  --spacing-48: 12rem;      /* 192px */
  --spacing-52: 13rem;      /* 208px */
  --spacing-56: 14rem;      /* 224px */
  --spacing-60: 15rem;      /* 240px */
  --spacing-64: 16rem;      /* 256px */
  --spacing-72: 18rem;      /* 288px */
  --spacing-80: 20rem;      /* 320px */
  --spacing-96: 24rem;      /* 384px */

  /* === TYPOGRAPHY SCALE === */
  --font-size-xs: 0.75rem;      /* 12px */
  --font-size-sm: 0.875rem;     /* 14px */
  --font-size-base: 1rem;       /* 16px */
  --font-size-lg: 1.125rem;     /* 18px */
  --font-size-xl: 1.25rem;      /* 20px */
  --font-size-2xl: 1.5rem;      /* 24px */
  --font-size-3xl: 1.875rem;    /* 30px */
  --font-size-4xl: 2.25rem;     /* 36px */
  --font-size-5xl: 3rem;        /* 48px */
  --font-size-6xl: 3.75rem;     /* 60px */
  --font-size-7xl: 4.5rem;      /* 72px */
  --font-size-8xl: 6rem;        /* 96px */
  --font-size-9xl: 8rem;        /* 128px */

  /* === LINE HEIGHT SCALE === */
  --line-height-none: 1;
  --line-height-tight: 1.25;
  --line-height-snug: 1.375;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;
  --line-height-loose: 2;

  /* === FONT WEIGHT SCALE === */
  --font-weight-thin: 100;
  --font-weight-extralight: 200;
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --font-weight-black: 900;

  /* =======================================
     SEMANTIC COLOR SYSTEM
     ======================================= */

  /* === BRAND COLORS === */
  --color-brand-50: 220 100% 97%;
  --color-brand-100: 220 95% 93%;
  --color-brand-200: 221 87% 86%;
  --color-brand-300: 222 78% 77%;
  --color-brand-400: 223 69% 67%;
  --color-brand-500: 224 60% 57%;
  --color-brand-600: 225 57% 47%;
  --color-brand-700: 226 54% 37%;
  --color-brand-800: 227 51% 27%;
  --color-brand-900: 228 48% 17%;
  --color-brand-950: 229 45% 12%;
  --color-brand-primary: var(--color-brand-500);
  --color-brand-secondary: 274 60% 57%;

  /* === SURFACE COLORS === */
  --color-surface-default: 0 0% 100%;
  --color-surface-background: 0 0% 100%;
  --color-surface-card: 0 0% 100%;
  --color-surface-secondary: 210 20% 98%;
  --color-surface-tertiary: 210 15% 95%;
  --color-surface-inverse: 210 15% 10%;

  /* === CONTENT COLORS === */
  --color-content-default: 210 15% 10%;
  --color-content-primary: 210 15% 10%;
  --color-content-secondary: 210 8% 34%;
  --color-content-tertiary: 210 6% 46%;
  --color-content-inverse: 0 0% 100%;
  --color-content-disabled: 210 8% 64%;
  --color-content-link: var(--color-brand-500);

  /* === BORDER COLORS === */
  --color-border-default: 210 12% 90%;
  --color-border-primary: 210 12% 90%;
  --color-border-secondary: 210 10% 82%;

  /* === INPUT COLORS === */
  --color-input-default: 0 0% 100%;
  --color-input-border: 210 12% 90%;
  --color-input-placeholder: 210 6% 46%;

  /* === INTERACTIVE COLORS === */
  --color-interactive-primary: var(--color-brand-500);
  --color-interactive-secondary: var(--color-brand-50);
  --color-interactive-hover: var(--color-brand-600);
  --color-interactive-active: var(--color-brand-700);
  --color-interactive-disabled: 210 8% 64%;

  /* === STATE COLORS === */
  --color-state-success: 146 59% 44%;
  --color-state-warning: 38 92% 50%;
  --color-state-error: 0 84% 60%;
  --color-state-info: 198 100% 46%;

  /* =======================================
     RADIUS & SHADOWS SCALES
     ======================================= */
  
  /* === BORDER RADIUS SCALE === */
  --radius-none: 0;
  --radius-xs: 0.125rem;        /* 2px */
  --radius-sm: 0.25rem;         /* 4px */
  --radius-base: 0.375rem;      /* 6px */
  --radius-md: 0.5rem;          /* 8px */
  --radius-lg: 0.75rem;         /* 12px */
  --radius-xl: 1rem;            /* 16px */
  --radius-2xl: 1.5rem;         /* 24px */
  --radius-3xl: 2rem;           /* 32px */
  --radius-full: 9999px;

  /* === SHADOW SCALE === */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  --shadow-base: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --shadow-2xl: 0 35px 60px -12px rgba(0, 0, 0, 0.35);
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);

  /* =======================================
     Z-INDEX SCALE
     ======================================= */
  
  --z-index-hide: -1;
  --z-index-auto: auto;
  --z-index-base: 0;
  --z-index-docked: 10;
  --z-index-dropdown: 1000;
  --z-index-sticky: 1020;
  --z-index-banner: 1030;
  --z-index-overlay: 1040;
  --z-index-modal: 1050;
  --z-index-popover: 1060;
  --z-index-skiplink: 1070;
  --z-index-toast: 1080;
  --z-index-tooltip: 1090;
  --z-index-max: 2147483647;

  /* =======================================
     ZOOM COMPENSATION SYSTEM
     ======================================= */
  
  /* Zoom compensation factor (set by JavaScript) */
  --zoom-compensation-factor: 1;
  --zoom-level: 1;
  
  /* Base font size for zoom compensation calculations */
  --base-font-size: 16px;
}

/* =======================================
   BASE TYPOGRAPHY STYLES
   ======================================= */

body {
  font-family: var(--font-geist-sans);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  font-weight: var(--font-weight-normal);
  background-color: hsl(var(--color-surface-default, 0 0% 100%));
  color: hsl(var(--color-content-default, 210 15% 10%));
  transition: background-color 0.2s ease, color 0.2s ease;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* =======================================
   UTILITIES LAYER
   ======================================= */

@layer utilities {
  /* Focus visible styles */
  .focus-visible\:outline-brand:focus-visible {
    outline: 2px solid hsl(var(--color-brand-500));
    outline-offset: 2px;
  }

  /* Text balance utility */
  .text-balance {
    text-wrap: balance;
  }

  /* Typography Scale Utilities */
  .text-display-sm { font-size: var(--font-size-2xl); line-height: var(--line-height-tight); font-weight: var(--font-weight-bold); }
  .text-display-md { font-size: var(--font-size-3xl); line-height: var(--line-height-tight); font-weight: var(--font-weight-bold); }
  .text-display-lg { font-size: var(--font-size-4xl); line-height: var(--line-height-tight); font-weight: var(--font-weight-bold); }
  
  .text-heading-sm { font-size: var(--font-size-lg); line-height: var(--line-height-snug); font-weight: var(--font-weight-semibold); }
  .text-heading-md { font-size: var(--font-size-xl); line-height: var(--line-height-snug); font-weight: var(--font-weight-semibold); }
  .text-heading-lg { font-size: var(--font-size-2xl); line-height: var(--line-height-snug); font-weight: var(--font-weight-semibold); }
  
  .text-body-sm { font-size: var(--font-size-sm); line-height: var(--line-height-normal); }
  .text-body-md { font-size: var(--font-size-base); line-height: var(--line-height-normal); }
  .text-body-lg { font-size: var(--font-size-lg); line-height: var(--line-height-normal); }

  /* Responsive grid auto-fit */
  .grid-auto-fit {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  }

  .grid-auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }

  /* Zoom compensation utilities */
  .zoom-stable {
    /* Elements with this class will maintain consistent size regardless of browser zoom */
    font-size: calc(var(--font-size-base) * var(--zoom-compensation-factor));
  }

  .zoom-compensated {
    /* Apply zoom compensation to transform scale */
    transform: scale(var(--zoom-compensation-factor));
    transform-origin: top left;
  }
}

/* =======================================
   DARK MODE OVERRIDES
   ======================================= */

[data-theme="dark"],
.dark {
  /* Override semantic colors for dark mode */
  --color-surface-default: 210 15% 10%;
  --color-surface-background: 210 15% 10%;
  --color-surface-card: 210 12% 16%;
  --color-surface-secondary: 210 12% 16%;
  --color-surface-tertiary: 210 10% 24%;
  --color-surface-inverse: 0 0% 100%;

  --color-content-default: 0 0% 100%;
  --color-content-primary: 0 0% 100%;
  --color-content-secondary: 210 15% 95%;
  --color-content-tertiary: 210 12% 90%;
  --color-content-inverse: 210 15% 10%;
  --color-content-disabled: 210 8% 64%;

  --color-border-default: 210 10% 24%;
  --color-border-primary: 210 10% 24%;
  --color-border-secondary: 210 8% 34%;

  --color-input-default: 210 12% 16%;
  --color-input-border: 210 10% 24%;
  --color-input-placeholder: 210 8% 64%;

  --color-interactive-secondary: 224 60% 20%;

  /* Adjust shadows for dark mode */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.15);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 2px -1px rgba(0, 0, 0, 0.2);
  --shadow-base: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -4px rgba(0, 0, 0, 0.2);
  --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 8px 10px -6px rgba(0, 0, 0, 0.2);
  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.35);
  --shadow-2xl: 0 35px 60px -12px rgba(0, 0, 0, 0.45);
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.15);
}

/* =======================================
   ZOOM COMPENSATION SPECIFIC STYLES
   ======================================= */

/* Debug indicator for zoom compensation */
html.zoom-compensating::before {
  /* Development indicator - remove in production */
  content: "Zoom: " attr(data-zoom-level) " | Compensation: " attr(data-compensation-factor);
  position: fixed;
  top: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 4px 8px;
  font-size: 12px;
  font-family: monospace;
  z-index: var(--z-index-max);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

/* Show debug indicator only in development */
html.zoom-compensating[data-debug="true"]::before {
  opacity: 1;
}

/* Prevent layout shifts during zoom compensation */
html {
  overflow-x: hidden;
  scroll-behavior: smooth;
}

/* Ensure smooth transitions for zoom compensation */
html {
  transition: font-size 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Prevent double scrollbars */
html.zoom-compensating {
  overflow-x: hidden;
}

/* Special handling for fixed elements during zoom compensation */
.zoom-fixed {
  /* For elements that need to remain fixed during zoom */
  position: fixed;
  transform: scale(var(--zoom-compensation-factor));
  transform-origin: top left;
}

/* Special handling for absolutely positioned elements */
.zoom-absolute {
  /* For absolutely positioned elements that need zoom compensation */
  transform: scale(var(--zoom-compensation-factor));
  transform-origin: top left;
}

/* Additional utility classes for zoom compensation */
.zoom-stable {
  /* Font size compensation only */
  font-size: calc(1rem * var(--zoom-compensation-factor)) !important;
}

.zoom-scale {
  /* Transform scale compensation */
  transform: scale(var(--zoom-compensation-factor));
  transform-origin: top left;
}

.zoom-padding {
  /* Padding compensation */
  padding: calc(1rem * var(--zoom-compensation-factor));
}

.zoom-margin {
  /* Margin compensation */
  margin: calc(1rem * var(--zoom-compensation-factor));
}

.zoom-border {
  /* Border width compensation */
  border-width: calc(1px * var(--zoom-compensation-factor));
}

/* Responsive zoom compensation classes */
.zoom-text-sm {
  font-size: calc(0.875rem * var(--zoom-compensation-factor));
}

.zoom-text-base {
  font-size: calc(1rem * var(--zoom-compensation-factor));
}

.zoom-text-lg {
  font-size: calc(1.125rem * var(--zoom-compensation-factor));
}

.zoom-text-xl {
  font-size: calc(1.25rem * var(--zoom-compensation-factor));
}

.zoom-text-2xl {
  font-size: calc(1.5rem * var(--zoom-compensation-factor));
}

.zoom-text-3xl {
  font-size: calc(1.875rem * var(--zoom-compensation-factor));
}

.zoom-text-4xl {
  font-size: calc(2.25rem * var(--zoom-compensation-factor));
}

/* Button compensation */
.zoom-btn {
  font-size: calc(1rem * var(--zoom-compensation-factor));
  padding: calc(0.5rem * var(--zoom-compensation-factor)) calc(1rem * var(--zoom-compensation-factor));
  border-radius: calc(0.375rem * var(--zoom-compensation-factor));
}

/* Card compensation */
.zoom-card {
  padding: calc(1.5rem * var(--zoom-compensation-factor));
  border-radius: calc(0.5rem * var(--zoom-compensation-factor));
  border-width: calc(1px * var(--zoom-compensation-factor));
}

/* Icon compensation */
.zoom-icon {
  width: calc(1.5rem * var(--zoom-compensation-factor));
  height: calc(1.5rem * var(--zoom-compensation-factor));
}

/* Grid and flex compensation */
.zoom-gap {
  gap: calc(1rem * var(--zoom-compensation-factor));
}

.zoom-gap-sm {
  gap: calc(0.5rem * var(--zoom-compensation-factor));
}

.zoom-gap-lg {
  gap: calc(1.5rem * var(--zoom-compensation-factor));
}
